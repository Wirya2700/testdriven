<!DOCTYPE html>
<html>

  <head>
  
    <title>Microservices with Docker, Flask, and React - React Bootstrap</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="shortcut icon" type="image/png" href="/favicon.ico">
  <link
    rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"
  >
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/icon?family=Material+Icons"
  >
  <link
    rel="stylesheet"
    href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
  >
  <link
    href="//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic"
    rel="stylesheet"
    type="text/css"
  >
  <link
    href="//fonts.googleapis.com/css?family=Lato:900,300"
    rel="stylesheet"
    type="text/css"
  >
  <link
    href="https://fonts.googleapis.com/css?family=Montserrat"
    rel="stylesheet"
    type="text/css"
  >
  <link
    href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css"
    rel="stylesheet"
    type="text/css"
  >
  <link href="/assets/css/styles.css?1515124024017421000" rel="stylesheet">
  <script
    src="//code.jquery.com/jquery-2.2.4.min.js"
    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
    crossorigin="anonymous"
  ></script>
  <script
    type="text/javascript"
    src="/assets/js/main.js"
  ></script>
  <script
    type="text/javascript"
    src="https://gumroad.com/js/gumroad.js"
  ></script>
</head>


  <body>

    <nav class="indigo darken-4">
  <div class="nav-wrapper">
    <a href="/" class="nav-logo-container left">
      <img
        class="nav-logo" src="/assets/img/test_driven_io_full_logo_white_text.svg" alt="testdriven.io"
      />
    </a>
    <a href="/" class="brand-logo main-brand-logo center show-on-large hide-on-med-and-down">
      Test Driven Development Courses
    </a>
    <!-- <a href="/" class="brand-logo main-brand-logo hide-on-large-only">
      TDD Courses
    </a> -->
    <a href="#" data-activates="mobile-demo" class="right button-collapse"><i class="material-icons">menu</i></a>
    <ul class="right hide-on-med-and-down">
      <li><a href="/">Course</a></li>
      <li><a href="/course-contents">Contents</a></li>
    </ul>
    <ul class="side-nav" id="mobile-demo">
      <li><a href="/">Home</a></li>
      <li><a href="/">Course</a></li>
      <li><a href="/course-contents">Contents</a></li>
    </ul>
  </div>
</nav>


    <br>

    <div class="container">
      <div class="row">

        <div class="col m3 hide-on-small-and-down">
  <br>
  <div id="toc-block" class="collection hide-on-small-and-down">
    <ul class="collapsible collapsible-accordion">
      
        
          <li>
            <h5 data-part="1" class="collapsible-header  waves-effect waves-teal">
              Part 1
            </h5>
            <div class="collapsible-body">
        
        <ul>
          <li class="collection-li">
            <span>1.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-intro">
                Introduction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>2.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-microservices">
                Microservices
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>3.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-app-overview">
                App Overview
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>4.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-getting-started">
                Getting Started
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>5.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-docker-config">
                Docker Config
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>6.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-postgres-setup">
                Postgres Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>7.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-test-setup">
                Test Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>8.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-flask-blueprints">
                Flask Blueprints
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>9.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-restful-routes">
                RESTful Routes
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>10.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-deployment">
                Deployment
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>11.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-jinja-templates">
                Jinja Templates
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>12.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-workflow">
                Workflow
              </a>
            </span>
          </li>
        </ul>
      
        
          <li>
            <h5 data-part="2" class="collapsible-header  waves-effect waves-teal">
              Part 2
            </h5>
            <div class="collapsible-body">
        
        <ul>
          <li class="collection-li">
            <span>1.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-intro">
                Introduction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>2.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-code-coverage-and-quality">
                Code Coverage and Quality
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>3.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-continuous-integration">
                Continuous Integration
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>4.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-react-setup">
                React Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>5.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-testing-react">
                Testing React
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>6.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-react-forms">
                React Forms
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>7.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-react-and-docker">
                React and Docker
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>8.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-next-steps">
                Next Steps
              </a>
            </span>
          </li>
        </ul>
      
        
          <li>
            <h5 data-part="3" class="collapsible-header  waves-effect waves-teal">
              Part 3
            </h5>
            <div class="collapsible-body">
        
        <ul>
          <li class="collection-li">
            <span>1.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-into">
                Introduction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>2.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-flask-migrate">
                Flask Migrate
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>3.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-flask-bcrypt">
                Flask Bcrypt
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>4.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-jwt-setup">
                JWT Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>5.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-auth-routes">
                Auth Routes
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>6.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-router">
                React Router
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>7.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-bootstrap">
                React Bootstrap
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>8.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-auth-one">
                React Authentication - part one
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>9.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-mocking-user-interaction">
                Mocking User Interaction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>10.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-auth-two">
                React Authentication - part two
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>11.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-authorization">
                Authorization
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>12.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-update-component">
                Update Component
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>13.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-update-docker">
                Update Docker
              </a>
            </span>
          </li>
        </ul>
      
    </div>
  </li>
    </ul>
  </div>
</div>


        <div class="col m9 hide-on-small-and-down">

          <h2>React Bootstrap</h2>

          
            <h5>Part 3, Lesson 7</h5>

            <div class="page-nav">
              
                <a class="prev btn left-align" href="https://testdriven.io/part-three-react-router">&laquo; React Router</a>
              
              
                <a class="next btn right-align" href="https://testdriven.io/part-three-react-auth-one">React Authentication - part one &raquo;</a>
              
            </div>

            
  <br>
  <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - React Bootstrap&amp;url=https%3A%2F%2Ftestdriven.io/part-three-react-bootstrap&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>



            <br><br>

          

          <p>In this lesson, we&#39;ll add a Navbar and a form component with React Bootstrap to set the stage for adding in full auth...</p>

<hr>

<h3 id="setup">Setup</h3>

<p>Add <a href="https://github.com/react-bootstrap/react-bootstrap">React Bootstrap</a> and <a href="https://github.com/react-bootstrap/react-router-bootstrap">React Router Boostrap</a> to the <em>package.json</em> file:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>&quot;dependencies&quot;: {
  &quot;axios&quot;: &quot;^0.16.2&quot;,
  &quot;react&quot;: &quot;^16.0.0&quot;,
  &quot;react-bootstrap&quot;: &quot;^0.31.5&quot;,
  &quot;react-dom&quot;: &quot;^16.0.0&quot;,
  &quot;react-router-bootstrap&quot;: &quot;^0.24.4&quot;,
  &quot;react-router-dom&quot;: &quot;^4.2.2&quot;,
  &quot;react-scripts&quot;: &quot;1.0.14&quot;
},
</code></pre></div>
<p>For each component, we&#39;ll roughly follow these steps:</p>

<ol>
<li>Write a unit test</li>
<li>Run the test to ensure it fails</li>
<li>Create the component file</li>
<li>Add the component</li>
<li>Wire up the component to <em>App.jsx</em>, passing down any necessary <code>props</code></li>
<li>Manually test it in the browser</li>
<li>Ensure the unit tests pass</li>
<li>Write a snapshot test</li>
</ol>

<h3 id="navbar">Navbar</h3>

<p>Create two new files in &quot;src/components&quot;:</p>

<ol>
<li><em>NavBar.test.js</em></li>
<li><em>NavBar.jsx</em></li>
</ol>

<p>Start with some tests:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;enzyme&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">renderer</span> <span class="nx">from</span> <span class="s1">&#39;react-test-renderer&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">NavBar</span> <span class="nx">from</span> <span class="s1">&#39;./NavBar&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="s1">&#39;Hello, World!&#39;</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;NavBar renders properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">NavBar</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Ensure it fails, and then add the component:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Navbar</span><span class="p">,</span> <span class="nx">Nav</span><span class="p">,</span> <span class="nx">NavItem</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-bootstrap&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">LinkContainer</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-bootstrap&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">NavBar</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Navbar</span> <span class="nx">inverse</span> <span class="nx">collapseOnSelect</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Brand</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
      <span class="o">&lt;</span><span class="err">/Navbar.Brand&gt;</span>
      <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Toggle</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="err">/Navbar.Header&gt;</span>
    <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Collapse</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Nav</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">About</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/status&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">User</span> <span class="nx">Status</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
      <span class="o">&lt;</span><span class="err">/Nav&gt;</span>
      <span class="o">&lt;</span><span class="nx">Nav</span> <span class="nx">pullRight</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/register&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Register</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/login&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Log</span> <span class="nx">In</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/logout&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Log</span> <span class="nx">Out</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
      <span class="o">&lt;</span><span class="err">/Nav&gt;</span>
    <span class="o">&lt;</span><span class="err">/Navbar.Collapse&gt;</span>
  <span class="o">&lt;</span><span class="err">/Navbar&gt;</span>
<span class="p">)</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">NavBar</span><span class="p">;</span>
</code></pre></div>
<p>Add the import to <em>App.jsx</em>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">NavBar</span> <span class="nx">from</span> <span class="s1">&#39;./components/NavBar&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Add a title to <code>state</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[],</span>
  <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;TestDriven.io&#39;</span>
<span class="p">}</span>
</code></pre></div>
<p>And update <code>render()</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">NavBar</span>
        <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
      <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/&#39;</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">(</span>
                <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">All</span> <span class="nx">Users</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
                  <span class="o">&lt;</span><span class="nx">hr</span><span class="o">/&gt;&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">AddUser</span>
                    <span class="nx">username</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">username</span><span class="p">}</span>
                    <span class="nx">email</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
                    <span class="nx">handleChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleChange</span><span class="p">}</span>
                    <span class="nx">addUser</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addUser</span><span class="p">}</span>
                  <span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">UsersList</span> <span class="nx">users</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">users</span><span class="p">}</span><span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="err">/div&gt;</span>
              <span class="p">)}</span> <span class="o">/&gt;</span>
              <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/about&#39;</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="err">/Switch&gt;</span>
          <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">)</span>
<span class="p">};</span>
</code></pre></div>
<p>Update the container:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>$ docker-compose -f docker-compose-dev.yml up -d --build
</code></pre></div>
<p>Test it out in the browser.</p>

<div style="text-align:left;">
  <img src="/assets/img/course/03_react_bootstrap_navbar.png" style="max-width: 100%; border:0; box-shadow: none;" alt="react bootstrap navbar">
</div>

<p>Ensure the tests pass. Then, add a snapshot test:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;NavBar renders a snapshot properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Router</span> <span class="nx">location</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;&lt;</span><span class="nx">NavBar</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">/&gt;&lt;</span><span class="err">/Router&gt;</span>
  <span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>Add the import:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">MemoryRouter</span> <span class="nx">as</span> <span class="nx">Router</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Here, we used the <a href="https://reacttraining.com/react-router/core/api/MemoryRouter">MemoryRouter</a> to provide context to the Router for the test.</p>

<blockquote>
<p>Review the official <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/testing.md">Testing guide</a> for more info.</p>
</blockquote>

<h3 id="form">Form</h3>

<p>Instead of using two different components to handle user registration and login, let&#39;s create a generic form component and customize it based on the state.</p>

<p>Add the files:</p>

<ol>
<li><em>Form.test.js</em></li>
<li><em>Form.jsx</em></li>
</ol>

<p>Test:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;enzyme&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">renderer</span> <span class="nx">from</span> <span class="s1">&#39;react-test-renderer&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">Form</span> <span class="nx">from</span> <span class="s1">&#39;./Form&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">formData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
<span class="p">};</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Register Form renders properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Register&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Register&#39;</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.form-group&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Login Form renders properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Login&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Login&#39;</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.form-group&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Component:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">Form</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
      <span class="o">&lt;</span><span class="nx">hr</span><span class="o">/&gt;&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{(</span><span class="nx">event</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">handleUserFormSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formType</span> <span class="o">===</span> <span class="s1">&#39;Register&#39;</span> <span class="o">&amp;&amp;</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">input</span>
              <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;username&quot;</span>
              <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-control input-lg&quot;</span>
              <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
              <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter a username&quot;</span>
              <span class="nx">required</span>
              <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">username</span><span class="p">}</span>
              <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
            <span class="o">/&gt;</span>
          <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="p">}</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">input</span>
            <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;email&quot;</span>
            <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-control input-lg&quot;</span>
            <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span>
            <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter an email address&quot;</span>
            <span class="nx">required</span>
            <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
            <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
          <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">input</span>
            <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
            <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-control input-lg&quot;</span>
            <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
            <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter a password&quot;</span>
            <span class="nx">required</span>
            <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">password</span><span class="p">}</span>
            <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
          <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span>
          <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;btn btn-primary btn-lg btn-block&quot;</span>
          <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Submit&quot;</span>
        <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/form&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">)</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">Form</span><span class="p">;</span>
</code></pre></div>
<p>Did you notice the <a href="https://facebook.github.io/react/docs/conditional-rendering.html#inline-if-with-logical--operator">inline if</a> statement - <code>props.formType === &#39;Register&#39; &amp;&amp;</code>? Review the code above, adding in code comments as needed.</p>

<p>Import the component into <em>App.jsx</em>, and then update the state in the constructor:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[],</span>
  <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;TestDriven.io&#39;</span><span class="p">,</span>
  <span class="nx">formData</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<p>Add the component to the <code>&lt;Switch&gt;</code>, within the <code>render</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/register&#39;</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span>
    <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Register&#39;</span><span class="p">}</span>
    <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span>
  <span class="o">/&gt;</span>
<span class="p">)}</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/login&#39;</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span>
    <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Login&#39;</span><span class="p">}</span>
    <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span>
  <span class="o">/&gt;</span>
<span class="p">)}</span> <span class="o">/&gt;</span>
</code></pre></div>
<p>Make sure the routes work in the browser, but don&#39;t try to submit the forms just yet - we still need to wire them up!</p>

<p>Add the snapshot tests:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Register Form renders a snapshot properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Register&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Login Form renders a snapshot properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Login&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>Make sure the tests pass!</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>PASS  src/components/Form.test.js
PASS  src/components/NavBar.test.js
PASS  src/App.test.js
PASS  src/components/About.test.js
PASS  src/components/UsersList.test.js
PASS  src/components/AddUser.test.js

Test Suites: <span class="m">6</span> passed, <span class="m">6</span> total
Tests:       <span class="m">13</span> passed, <span class="m">13</span> total
Snapshots:   <span class="m">6</span> passed, <span class="m">6</span> total
Time:        <span class="m">2</span>.761s, estimated 7s
Ran all <span class="nb">test</span> suites.
</code></pre></div>
<h3 id="refactor">Refactor</h3>

<p>Before moving on, let&#39;s do two quick refactors...</p>

<h4 id="form-tests">Form tests</h4>

<p>This code is not DRY. It may be fine for the two forms we have now, but what if we had 20? Re-write this on your own before reviewing the solution.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;enzyme&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">renderer</span> <span class="nx">from</span> <span class="s1">&#39;react-test-renderer&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">Form</span> <span class="nx">from</span> <span class="s1">&#39;./Form&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">testData</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">formType</span><span class="o">:</span> <span class="s1">&#39;Register&#39;</span><span class="p">,</span>
    <span class="nx">formData</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
    <span class="p">},</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">formType</span><span class="o">:</span> <span class="s1">&#39;Login&#39;</span><span class="p">,</span>
    <span class="nx">formData</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="nx">testData</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">el</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">test</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="si">}</span><span class="sb"> Form renders properly`</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.form-group&#39;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">).</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="nx">test</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="si">}</span><span class="sb"> Form renders a snapshot properly`</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">})</span>
</code></pre></div>
<p>Run the tests again.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>PASS  src/components/Form.test.js
PASS  src/components/NavBar.test.js
PASS  src/App.test.js
PASS  src/components/About.test.js
PASS  src/components/UsersList.test.js
PASS  src/components/AddUser.test.js

Test Suites: <span class="m">6</span> passed, <span class="m">6</span> total
Tests:       <span class="m">13</span> passed, <span class="m">13</span> total
Snapshots:   <span class="m">6</span> passed, <span class="m">6</span> total
Time:        <span class="m">3</span>.118s, estimated 7s
Ran all <span class="nb">test</span> suites.
</code></pre></div>
<p>Also, it&#39;s important to ensure that the rendered components have not actually changed. Start by visually inspecting them in the browser, and then, as long as the two snapshots pass without having to create new snapshots, then we know all is well. How do you know if the snapshot has changed?</p>

<p>You&#39;ll see the following message in the terminal when the tests run:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>Snapshot Summary
 › <span class="m">1</span> snapshot written in <span class="m">1</span> <span class="nb">test</span> suite.
 › <span class="m">1</span> obsolete snapshot found, press <span class="sb">`</span>u<span class="sb">`</span> to remove them.
</code></pre></div>
<p>If you see that message, immediately revert your code back, take a new snapshot, and then start the refactor over again.</p>

<h4 id="test-directory">Test directory</h4>

<p>Next, it&#39;s getting crowded in the &quot;components&quot; directory. Create a new directory within it called &quot;__tests__&quot;, and move all of the *<em>.test.js</em> files into it:</p>

<ol>
<li><em>About.test.js</em></li>
<li><em>AddUser.test.js</em></li>
<li><em>Form.test.js</em></li>
<li><em>NavBar.test.js</em></li>
<li><em>UsersList.test.js</em></li>
<li><em>App.test.js</em></li>
</ol>

<p>Update the imports. Ensure the tests still pass. Commit your code. Push to GitHub.</p>


          <div class="page-nav">
            
              <a class="prev btn left-align" href="https://testdriven.io/part-three-react-router">&laquo; React Router</a>
            
            
              <a class="next btn right-align" href="https://testdriven.io/part-three-react-auth-one">React Authentication - part one &raquo;</a>
            
          </div>

          
  <br>
  <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - React Bootstrap&amp;url=https%3A%2F%2Ftestdriven.io/part-three-react-bootstrap&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>



        </div>

        <div class="hide-on-med-and-up">

          <h2>React Bootstrap</h2>

          <p>In this lesson, we&#39;ll add a Navbar and a form component with React Bootstrap to set the stage for adding in full auth...</p>

<hr>

<h3 id="setup">Setup</h3>

<p>Add <a href="https://github.com/react-bootstrap/react-bootstrap">React Bootstrap</a> and <a href="https://github.com/react-bootstrap/react-router-bootstrap">React Router Boostrap</a> to the <em>package.json</em> file:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>&quot;dependencies&quot;: {
  &quot;axios&quot;: &quot;^0.16.2&quot;,
  &quot;react&quot;: &quot;^16.0.0&quot;,
  &quot;react-bootstrap&quot;: &quot;^0.31.5&quot;,
  &quot;react-dom&quot;: &quot;^16.0.0&quot;,
  &quot;react-router-bootstrap&quot;: &quot;^0.24.4&quot;,
  &quot;react-router-dom&quot;: &quot;^4.2.2&quot;,
  &quot;react-scripts&quot;: &quot;1.0.14&quot;
},
</code></pre></div>
<p>For each component, we&#39;ll roughly follow these steps:</p>

<ol>
<li>Write a unit test</li>
<li>Run the test to ensure it fails</li>
<li>Create the component file</li>
<li>Add the component</li>
<li>Wire up the component to <em>App.jsx</em>, passing down any necessary <code>props</code></li>
<li>Manually test it in the browser</li>
<li>Ensure the unit tests pass</li>
<li>Write a snapshot test</li>
</ol>

<h3 id="navbar">Navbar</h3>

<p>Create two new files in &quot;src/components&quot;:</p>

<ol>
<li><em>NavBar.test.js</em></li>
<li><em>NavBar.jsx</em></li>
</ol>

<p>Start with some tests:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;enzyme&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">renderer</span> <span class="nx">from</span> <span class="s1">&#39;react-test-renderer&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">NavBar</span> <span class="nx">from</span> <span class="s1">&#39;./NavBar&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="s1">&#39;Hello, World!&#39;</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;NavBar renders properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">NavBar</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Ensure it fails, and then add the component:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Navbar</span><span class="p">,</span> <span class="nx">Nav</span><span class="p">,</span> <span class="nx">NavItem</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-bootstrap&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">LinkContainer</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-bootstrap&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">NavBar</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Navbar</span> <span class="nx">inverse</span> <span class="nx">collapseOnSelect</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Brand</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
      <span class="o">&lt;</span><span class="err">/Navbar.Brand&gt;</span>
      <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Toggle</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="err">/Navbar.Header&gt;</span>
    <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Collapse</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Nav</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">About</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/status&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">User</span> <span class="nx">Status</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
      <span class="o">&lt;</span><span class="err">/Nav&gt;</span>
      <span class="o">&lt;</span><span class="nx">Nav</span> <span class="nx">pullRight</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/register&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Register</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/login&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Log</span> <span class="nx">In</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;/logout&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Log</span> <span class="nx">Out</span><span class="o">&lt;</span><span class="err">/NavItem&gt;</span>
        <span class="o">&lt;</span><span class="err">/LinkContainer&gt;</span>
      <span class="o">&lt;</span><span class="err">/Nav&gt;</span>
    <span class="o">&lt;</span><span class="err">/Navbar.Collapse&gt;</span>
  <span class="o">&lt;</span><span class="err">/Navbar&gt;</span>
<span class="p">)</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">NavBar</span><span class="p">;</span>
</code></pre></div>
<p>Add the import to <em>App.jsx</em>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">NavBar</span> <span class="nx">from</span> <span class="s1">&#39;./components/NavBar&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Add a title to <code>state</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[],</span>
  <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;TestDriven.io&#39;</span>
<span class="p">}</span>
</code></pre></div>
<p>And update <code>render()</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">NavBar</span>
        <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
      <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;col-md-6&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/&#39;</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">(</span>
                <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">All</span> <span class="nx">Users</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
                  <span class="o">&lt;</span><span class="nx">hr</span><span class="o">/&gt;&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">AddUser</span>
                    <span class="nx">username</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">username</span><span class="p">}</span>
                    <span class="nx">email</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
                    <span class="nx">handleChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleChange</span><span class="p">}</span>
                    <span class="nx">addUser</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addUser</span><span class="p">}</span>
                  <span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">UsersList</span> <span class="nx">users</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">users</span><span class="p">}</span><span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="err">/div&gt;</span>
              <span class="p">)}</span> <span class="o">/&gt;</span>
              <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/about&#39;</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="err">/Switch&gt;</span>
          <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">)</span>
<span class="p">};</span>
</code></pre></div>
<p>Update the container:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>$ docker-compose -f docker-compose-dev.yml up -d --build
</code></pre></div>
<p>Test it out in the browser.</p>

<div style="text-align:left;">
  <img src="/assets/img/course/03_react_bootstrap_navbar.png" style="max-width: 100%; border:0; box-shadow: none;" alt="react bootstrap navbar">
</div>

<p>Ensure the tests pass. Then, add a snapshot test:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;NavBar renders a snapshot properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Router</span> <span class="nx">location</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;&lt;</span><span class="nx">NavBar</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">/&gt;&lt;</span><span class="err">/Router&gt;</span>
  <span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>Add the import:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">MemoryRouter</span> <span class="nx">as</span> <span class="nx">Router</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-dom&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Here, we used the <a href="https://reacttraining.com/react-router/core/api/MemoryRouter">MemoryRouter</a> to provide context to the Router for the test.</p>

<blockquote>
<p>Review the official <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/testing.md">Testing guide</a> for more info.</p>
</blockquote>

<h3 id="form">Form</h3>

<p>Instead of using two different components to handle user registration and login, let&#39;s create a generic form component and customize it based on the state.</p>

<p>Add the files:</p>

<ol>
<li><em>Form.test.js</em></li>
<li><em>Form.jsx</em></li>
</ol>

<p>Test:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;enzyme&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">renderer</span> <span class="nx">from</span> <span class="s1">&#39;react-test-renderer&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">Form</span> <span class="nx">from</span> <span class="s1">&#39;./Form&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">formData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
<span class="p">};</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Register Form renders properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Register&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Register&#39;</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.form-group&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Login Form renders properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Login&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Login&#39;</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.form-group&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Component:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">Form</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
      <span class="o">&lt;</span><span class="nx">hr</span><span class="o">/&gt;&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{(</span><span class="nx">event</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">handleUserFormSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formType</span> <span class="o">===</span> <span class="s1">&#39;Register&#39;</span> <span class="o">&amp;&amp;</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">input</span>
              <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;username&quot;</span>
              <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-control input-lg&quot;</span>
              <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
              <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter a username&quot;</span>
              <span class="nx">required</span>
              <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">username</span><span class="p">}</span>
              <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
            <span class="o">/&gt;</span>
          <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="p">}</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">input</span>
            <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;email&quot;</span>
            <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-control input-lg&quot;</span>
            <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span>
            <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter an email address&quot;</span>
            <span class="nx">required</span>
            <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
            <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
          <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">input</span>
            <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
            <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;form-control input-lg&quot;</span>
            <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
            <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter a password&quot;</span>
            <span class="nx">required</span>
            <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">password</span><span class="p">}</span>
            <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
          <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span>
          <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;btn btn-primary btn-lg btn-block&quot;</span>
          <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Submit&quot;</span>
        <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/form&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">)</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">Form</span><span class="p">;</span>
</code></pre></div>
<p>Did you notice the <a href="https://facebook.github.io/react/docs/conditional-rendering.html#inline-if-with-logical--operator">inline if</a> statement - <code>props.formType === &#39;Register&#39; &amp;&amp;</code>? Review the code above, adding in code comments as needed.</p>

<p>Import the component into <em>App.jsx</em>, and then update the state in the constructor:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[],</span>
  <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;TestDriven.io&#39;</span><span class="p">,</span>
  <span class="nx">formData</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<p>Add the component to the <code>&lt;Switch&gt;</code>, within the <code>render</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/register&#39;</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span>
    <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Register&#39;</span><span class="p">}</span>
    <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span>
  <span class="o">/&gt;</span>
<span class="p">)}</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">&#39;/login&#39;</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span>
    <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Login&#39;</span><span class="p">}</span>
    <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span>
  <span class="o">/&gt;</span>
<span class="p">)}</span> <span class="o">/&gt;</span>
</code></pre></div>
<p>Make sure the routes work in the browser, but don&#39;t try to submit the forms just yet - we still need to wire them up!</p>

<p>Add the snapshot tests:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Register Form renders a snapshot properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Register&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">&#39;Login Form renders a snapshot properly&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Login&#39;</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>Make sure the tests pass!</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>PASS  src/components/Form.test.js
PASS  src/components/NavBar.test.js
PASS  src/App.test.js
PASS  src/components/About.test.js
PASS  src/components/UsersList.test.js
PASS  src/components/AddUser.test.js

Test Suites: <span class="m">6</span> passed, <span class="m">6</span> total
Tests:       <span class="m">13</span> passed, <span class="m">13</span> total
Snapshots:   <span class="m">6</span> passed, <span class="m">6</span> total
Time:        <span class="m">2</span>.761s, estimated 7s
Ran all <span class="nb">test</span> suites.
</code></pre></div>
<h3 id="refactor">Refactor</h3>

<p>Before moving on, let&#39;s do two quick refactors...</p>

<h4 id="form-tests">Form tests</h4>

<p>This code is not DRY. It may be fine for the two forms we have now, but what if we had 20? Re-write this on your own before reviewing the solution.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;enzyme&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">renderer</span> <span class="nx">from</span> <span class="s1">&#39;react-test-renderer&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">Form</span> <span class="nx">from</span> <span class="s1">&#39;./Form&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">testData</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">formType</span><span class="o">:</span> <span class="s1">&#39;Register&#39;</span><span class="p">,</span>
    <span class="nx">formData</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
    <span class="p">},</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">formType</span><span class="o">:</span> <span class="s1">&#39;Login&#39;</span><span class="p">,</span>
    <span class="nx">formData</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="nx">testData</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">el</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">test</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="si">}</span><span class="sb"> Form renders properly`</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.form-group&#39;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">).</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="nx">test</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="si">}</span><span class="sb"> Form renders a snapshot properly`</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">})</span>
</code></pre></div>
<p>Run the tests again.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>PASS  src/components/Form.test.js
PASS  src/components/NavBar.test.js
PASS  src/App.test.js
PASS  src/components/About.test.js
PASS  src/components/UsersList.test.js
PASS  src/components/AddUser.test.js

Test Suites: <span class="m">6</span> passed, <span class="m">6</span> total
Tests:       <span class="m">13</span> passed, <span class="m">13</span> total
Snapshots:   <span class="m">6</span> passed, <span class="m">6</span> total
Time:        <span class="m">3</span>.118s, estimated 7s
Ran all <span class="nb">test</span> suites.
</code></pre></div>
<p>Also, it&#39;s important to ensure that the rendered components have not actually changed. Start by visually inspecting them in the browser, and then, as long as the two snapshots pass without having to create new snapshots, then we know all is well. How do you know if the snapshot has changed?</p>

<p>You&#39;ll see the following message in the terminal when the tests run:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>Snapshot Summary
 › <span class="m">1</span> snapshot written in <span class="m">1</span> <span class="nb">test</span> suite.
 › <span class="m">1</span> obsolete snapshot found, press <span class="sb">`</span>u<span class="sb">`</span> to remove them.
</code></pre></div>
<p>If you see that message, immediately revert your code back, take a new snapshot, and then start the refactor over again.</p>

<h4 id="test-directory">Test directory</h4>

<p>Next, it&#39;s getting crowded in the &quot;components&quot; directory. Create a new directory within it called &quot;__tests__&quot;, and move all of the *<em>.test.js</em> files into it:</p>

<ol>
<li><em>About.test.js</em></li>
<li><em>AddUser.test.js</em></li>
<li><em>Form.test.js</em></li>
<li><em>NavBar.test.js</em></li>
<li><em>UsersList.test.js</em></li>
<li><em>App.test.js</em></li>
</ol>

<p>Update the imports. Ensure the tests still pass. Commit your code. Push to GitHub.</p>


          
  <br>
  <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - React Bootstrap&amp;url=https%3A%2F%2Ftestdriven.io/part-three-react-bootstrap&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>



          <div class="page-nav">
            
              <a class="prev btn left-align" href="https://testdriven.io/part-three-react-router">&laquo; React Router</a>
            
            
              <a class="next btn right-align" href="https://testdriven.io/part-three-react-auth-one">React Authentication - part one &raquo;</a>
            
          </div>

        </div>

      </div>
    </div>

     <footer class="page-footer white">
  <div class="container footer-container center-align">
    <ul>
      <li><small>Content by Michael Herman (michael@mherman.org)</small></li>
      <li><small>&copy; Copyright 2017 <a href="http://testdriven.io">TestDriven.io</a></small></li>
    </ul>
  </div>
</footer>


    <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

    
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-100160465-1', 'auto');
    ga('send', 'pageview');

  </script>



  </body>
</html>
