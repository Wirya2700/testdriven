<!DOCTYPE html>
<html>

  <head>
  
    <title>Microservices with Docker, Flask, and React - Microservices</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="shortcut icon" type="image/png" href="/favicon.ico">
  <link
    rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"
  >
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/icon?family=Material+Icons"
  >
  <link
    rel="stylesheet"
    href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
  >
  <link
    href="//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic"
    rel="stylesheet"
    type="text/css"
  >
  <link
    href="//fonts.googleapis.com/css?family=Lato:900,300"
    rel="stylesheet"
    type="text/css"
  >
  <link
    href="https://fonts.googleapis.com/css?family=Montserrat"
    rel="stylesheet"
    type="text/css"
  >
  <link
    href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css"
    rel="stylesheet"
    type="text/css"
  >
  <link href="/assets/css/styles.css?1515124024017421000" rel="stylesheet">
  <script
    src="//code.jquery.com/jquery-2.2.4.min.js"
    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
    crossorigin="anonymous"
  ></script>
  <script
    type="text/javascript"
    src="/assets/js/main.js"
  ></script>
  <script
    type="text/javascript"
    src="https://gumroad.com/js/gumroad.js"
  ></script>
</head>


  <body>

    <nav class="indigo darken-4">
  <div class="nav-wrapper">
    <a href="/" class="nav-logo-container left">
      <img
        class="nav-logo" src="/assets/img/test_driven_io_full_logo_white_text.svg" alt="testdriven.io"
      />
    </a>
    <a href="/" class="brand-logo main-brand-logo center show-on-large hide-on-med-and-down">
      Test Driven Development Courses
    </a>
    <!-- <a href="/" class="brand-logo main-brand-logo hide-on-large-only">
      TDD Courses
    </a> -->
    <a href="#" data-activates="mobile-demo" class="right button-collapse"><i class="material-icons">menu</i></a>
    <ul class="right hide-on-med-and-down">
      <li><a href="/">Course</a></li>
      <li><a href="/course-contents">Contents</a></li>
    </ul>
    <ul class="side-nav" id="mobile-demo">
      <li><a href="/">Home</a></li>
      <li><a href="/">Course</a></li>
      <li><a href="/course-contents">Contents</a></li>
    </ul>
  </div>
</nav>


    <br>

    <div class="container">
      <div class="row">

        <div class="col m3 hide-on-small-and-down">
  <br>
  <div id="toc-block" class="collection hide-on-small-and-down">
    <ul class="collapsible collapsible-accordion">
      
        
          <li>
            <h5 data-part="1" class="collapsible-header  waves-effect waves-teal">
              Part 1
            </h5>
            <div class="collapsible-body">
        
        <ul>
          <li class="collection-li">
            <span>1.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-intro">
                Introduction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>2.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-microservices">
                Microservices
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>3.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-app-overview">
                App Overview
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>4.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-getting-started">
                Getting Started
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>5.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-docker-config">
                Docker Config
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>6.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-postgres-setup">
                Postgres Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>7.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-test-setup">
                Test Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>8.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-flask-blueprints">
                Flask Blueprints
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>9.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-restful-routes">
                RESTful Routes
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>10.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-deployment">
                Deployment
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>11.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-jinja-templates">
                Jinja Templates
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>12.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-one-workflow">
                Workflow
              </a>
            </span>
          </li>
        </ul>
      
        
          <li>
            <h5 data-part="2" class="collapsible-header  waves-effect waves-teal">
              Part 2
            </h5>
            <div class="collapsible-body">
        
        <ul>
          <li class="collection-li">
            <span>1.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-intro">
                Introduction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>2.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-code-coverage-and-quality">
                Code Coverage and Quality
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>3.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-continuous-integration">
                Continuous Integration
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>4.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-react-setup">
                React Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>5.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-testing-react">
                Testing React
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>6.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-react-forms">
                React Forms
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>7.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-react-and-docker">
                React and Docker
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>8.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-two-next-steps">
                Next Steps
              </a>
            </span>
          </li>
        </ul>
      
        
          <li>
            <h5 data-part="3" class="collapsible-header  waves-effect waves-teal">
              Part 3
            </h5>
            <div class="collapsible-body">
        
        <ul>
          <li class="collection-li">
            <span>1.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-into">
                Introduction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>2.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-flask-migrate">
                Flask Migrate
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>3.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-flask-bcrypt">
                Flask Bcrypt
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>4.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-jwt-setup">
                JWT Setup
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>5.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-auth-routes">
                Auth Routes
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>6.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-router">
                React Router
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>7.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-bootstrap">
                React Bootstrap
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>8.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-auth-one">
                React Authentication - part one
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>9.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-mocking-user-interaction">
                Mocking User Interaction
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>10.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-react-auth-two">
                React Authentication - part two
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>11.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-authorization">
                Authorization
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>12.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-update-component">
                Update Component
              </a>
            </span>
          </li>
        </ul>
      
        
        <ul>
          <li class="collection-li">
            <span>13.&nbsp;</span>
            <span>
              <a class="collection-item" href="https://testdriven.io/part-three-update-docker">
                Update Docker
              </a>
            </span>
          </li>
        </ul>
      
    </div>
  </li>
    </ul>
  </div>
</div>


        <div class="col m9 hide-on-small-and-down">

          <h2>Microservices</h2>

          
            <h5>Part 1, Lesson 2</h5>

            <div class="page-nav">
              
                <a class="prev btn left-align" href="https://testdriven.io/part-one-intro">&laquo; Introduction</a>
              
              
                <a class="next btn right-align" href="https://testdriven.io/part-one-app-overview">App Overview &raquo;</a>
              
            </div>

            
  <br>
  <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - Microservices&amp;url=https%3A%2F%2Ftestdriven.io/part-one-microservices&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>



            <br><br>

          

          <p>Microservice architecture provides a means of breaking apart large applications into smaller services that interact and communicate with each another. Communication between the services usually happens over a network connection through HTTP calls. <a href="https://en.wikipedia.org/wiki/WebSocket">Web sockets</a>, <a href="https://en.wikipedia.org/wiki/Message_queue">message queues</a> and <a href="https://en.wikipedia.org/wiki/Remote_procedure_call">remote procedure calls</a> (RPC) can
also be used to connect standalone components.</p>

<p>Each individual service focuses on a single task, generally separated by business unit, and is governed by its RESTful contact.</p>

<p>The goal of this course is to detail one approach to developing an application in the microservice fashion. It&#39;s less about the <em>why</em> and more about the <em>how</em>. Microservices are hard. They present a number of challenges and issues that are very difficult to solve. Keep this in mind before you start breaking apart your monolith.</p>

<h3 id="pros">Pros</h3>

<h4 id="separation-of-concerns">Separation of Concerns</h4>

<p>With a clear separation between services, developers are free to focus on their own areas of expertise, like languages, frameworks, dependencies, and tools.</p>

<p>For example, a front-end JavaScript engineer could develop the client-facing views without ever having to understand the underlying code in the back-end API. He or she is free to use the languages and frameworks of choice, only having to communicate with the back-end via AJAX requests to consume the RESTful API.</p>

<p>Clear separation means that errors are mostly localized to the service that the developer is working on. So, you can assign a junior developer to a less critical service so that way if she or he brings down that service, the remainder of the application is not affected.</p>

<p>Less coupling also makes scaling easier since each service can be deployed separately.</p>

<h4 id="smaller-code-bases">Smaller Code Bases</h4>

<p>Smaller code bases tend to be easier to understand since you do not have to grasp the entire system. This, along with the necessity for solid API design, means that applications in a microservice stack are generally easier to work on, test, refactor, and scale.</p>

<h3 id="cons">Cons</h3>

<h4 id="design-complexity">Design Complexity</h4>

<p>Deciding to split off a piece of your application into a microservice is no easy task. It&#39;s often much easier to refactor it into a separate module within the overall monolith rather than splitting it out.</p>

<p>Once you split out a service there is no going back.</p>

<h4 id="network-complexity">Network Complexity</h4>

<p>With a monolith, generally everything happens in a single process so you don&#39;t have to make very many calls to other services. As you break out pieces of your application into microservices, you&#39;ll find that you&#39;ll now have to make a network call when before you could just call a function.</p>

<p>This can cause problems especially if multiple services need to communicate with one another, resulting in ping-pong-like affect in terms of network requests. You will also have to account for a service going down altogether.</p>

<h4 id="data-persistence">Data Persistence</h4>

<p>Most applications have some sort of stateful layer, like databases or task queues. Microservice stacks also need to keep track of where services are deployed and the total number of deployed instances, so that when a new instance of a particular service is stood up, traffic can be re-routed appropriately. This is often referred to as <a href="https://en.wikipedia.org/wiki/Service_discovery">service discovery</a>.  </p>

<p>Since we&#39;ll be dealing with containers, we need to take special care in how we handle stateful containers since they should not come down.</p>

<p>Isolating a particular service&#39;s state so that it is not shared or duplicated is incredible difficult. You&#39;ll often have to deal with various sources of truth, which will have to be reconciled frequently. Again, this comes down to design.</p>

<h4 id="integration-tests">Integration Tests</h4>

<p>Often, when developing applications with a microservice architecture, you cannot fully test out all services until you deploy to a staging or production server. This takes much too long to get feedback. Fortunately, Docker helps to speed up this process by making it easier to link together small, independent services locally.</p>


          <div class="page-nav">
            
              <a class="prev btn left-align" href="https://testdriven.io/part-one-intro">&laquo; Introduction</a>
            
            
              <a class="next btn right-align" href="https://testdriven.io/part-one-app-overview">App Overview &raquo;</a>
            
          </div>

          
  <br>
  <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - Microservices&amp;url=https%3A%2F%2Ftestdriven.io/part-one-microservices&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>



        </div>

        <div class="hide-on-med-and-up">

          <h2>Microservices</h2>

          <p>Microservice architecture provides a means of breaking apart large applications into smaller services that interact and communicate with each another. Communication between the services usually happens over a network connection through HTTP calls. <a href="https://en.wikipedia.org/wiki/WebSocket">Web sockets</a>, <a href="https://en.wikipedia.org/wiki/Message_queue">message queues</a> and <a href="https://en.wikipedia.org/wiki/Remote_procedure_call">remote procedure calls</a> (RPC) can
also be used to connect standalone components.</p>

<p>Each individual service focuses on a single task, generally separated by business unit, and is governed by its RESTful contact.</p>

<p>The goal of this course is to detail one approach to developing an application in the microservice fashion. It&#39;s less about the <em>why</em> and more about the <em>how</em>. Microservices are hard. They present a number of challenges and issues that are very difficult to solve. Keep this in mind before you start breaking apart your monolith.</p>

<h3 id="pros">Pros</h3>

<h4 id="separation-of-concerns">Separation of Concerns</h4>

<p>With a clear separation between services, developers are free to focus on their own areas of expertise, like languages, frameworks, dependencies, and tools.</p>

<p>For example, a front-end JavaScript engineer could develop the client-facing views without ever having to understand the underlying code in the back-end API. He or she is free to use the languages and frameworks of choice, only having to communicate with the back-end via AJAX requests to consume the RESTful API.</p>

<p>Clear separation means that errors are mostly localized to the service that the developer is working on. So, you can assign a junior developer to a less critical service so that way if she or he brings down that service, the remainder of the application is not affected.</p>

<p>Less coupling also makes scaling easier since each service can be deployed separately.</p>

<h4 id="smaller-code-bases">Smaller Code Bases</h4>

<p>Smaller code bases tend to be easier to understand since you do not have to grasp the entire system. This, along with the necessity for solid API design, means that applications in a microservice stack are generally easier to work on, test, refactor, and scale.</p>

<h3 id="cons">Cons</h3>

<h4 id="design-complexity">Design Complexity</h4>

<p>Deciding to split off a piece of your application into a microservice is no easy task. It&#39;s often much easier to refactor it into a separate module within the overall monolith rather than splitting it out.</p>

<p>Once you split out a service there is no going back.</p>

<h4 id="network-complexity">Network Complexity</h4>

<p>With a monolith, generally everything happens in a single process so you don&#39;t have to make very many calls to other services. As you break out pieces of your application into microservices, you&#39;ll find that you&#39;ll now have to make a network call when before you could just call a function.</p>

<p>This can cause problems especially if multiple services need to communicate with one another, resulting in ping-pong-like affect in terms of network requests. You will also have to account for a service going down altogether.</p>

<h4 id="data-persistence">Data Persistence</h4>

<p>Most applications have some sort of stateful layer, like databases or task queues. Microservice stacks also need to keep track of where services are deployed and the total number of deployed instances, so that when a new instance of a particular service is stood up, traffic can be re-routed appropriately. This is often referred to as <a href="https://en.wikipedia.org/wiki/Service_discovery">service discovery</a>.  </p>

<p>Since we&#39;ll be dealing with containers, we need to take special care in how we handle stateful containers since they should not come down.</p>

<p>Isolating a particular service&#39;s state so that it is not shared or duplicated is incredible difficult. You&#39;ll often have to deal with various sources of truth, which will have to be reconciled frequently. Again, this comes down to design.</p>

<h4 id="integration-tests">Integration Tests</h4>

<p>Often, when developing applications with a microservice architecture, you cannot fully test out all services until you deploy to a staging or production server. This takes much too long to get feedback. Fortunately, Docker helps to speed up this process by making it easier to link together small, independent services locally.</p>


          
  <br>
  <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - Microservices&amp;url=https%3A%2F%2Ftestdriven.io/part-one-microservices&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>



          <div class="page-nav">
            
              <a class="prev btn left-align" href="https://testdriven.io/part-one-intro">&laquo; Introduction</a>
            
            
              <a class="next btn right-align" href="https://testdriven.io/part-one-app-overview">App Overview &raquo;</a>
            
          </div>

        </div>

      </div>
    </div>

     <footer class="page-footer white">
  <div class="container footer-container center-align">
    <ul>
      <li><small>Content by Michael Herman (michael@mherman.org)</small></li>
      <li><small>&copy; Copyright 2017 <a href="http://testdriven.io">TestDriven.io</a></small></li>
    </ul>
  </div>
</footer>


    <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

    
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-100160465-1', 'auto');
    ga('send', 'pageview');

  </script>



  </body>
</html>
